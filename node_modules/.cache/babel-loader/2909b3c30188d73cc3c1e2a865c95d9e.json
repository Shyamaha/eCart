{"ast":null,"code":"const cart = [];\n\nconst handleCart = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : cart;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const product = action.payload;\n\n  switch (action.type) {\n    case \"ADDITEM\":\n      //check if the item is already there\n      const exist = state.find(x => x.id === product.id);\n\n      if (exist) {\n        return state.map(x => x.id === product.id ? { ...x,\n          qty: x.qty + 1\n        } : x);\n      } else {\n        const product = action.payload;\n        return [...state, { ...product,\n          qty: 1\n        }];\n      }\n\n      break;\n\n    case \"DELITEM\":\n      const exist1 = state.find(x => x.id === product.id);\n\n      if (exist1.qty === 1) {\n        return state.filter(x => x.id !== exist1.id);\n      } else {\n        return state.map(x => x.id === product.id ? { ...x,\n          qty: x.qty - 1\n        } : x);\n      }\n\n      break;\n\n    default:\n      return state;\n      break;\n  }\n};\n\nexport default handleCart;","map":{"version":3,"names":["cart","handleCart","state","action","product","payload","type","exist","find","x","id","map","qty","exist1","filter"],"sources":["C:/Users/ssundar/projects/udemy/eCart/src/redux/reducer/handleCart.js"],"sourcesContent":["const cart= [];\r\nconst handleCart = (state = cart,action) => {\r\n    const product = action.payload;\r\n    switch (action.type) {\r\n        case \"ADDITEM\":\r\n            //check if the item is already there\r\n            const exist = state.find((x) => x.id=== product.id);\r\n            if(exist){\r\n                return state.map((x) => x.id=== product.id ? {...x , qty: x.qty +1} : x);\r\n            }\r\n            else{\r\n                const product = action.payload;\r\n                return [\r\n                    ...state,\r\n                    {\r\n                        ...product,\r\n                        qty: 1\r\n                    }\r\n                ]\r\n            }\r\n            break;\r\n        case \"DELITEM\": \r\n            const exist1 = state.find((x) => x.id === product.id);\r\n            if(exist1.qty=== 1){\r\n                return state.filter((x) => x.id !== exist1.id);\r\n            }\r\n            else{\r\n                return state.map((x) => x.id === product.id ? {...x, qty: x.qty - 1}: x);\r\n            }\r\n            break;\r\n    \r\n        default:\r\n            return state;\r\n            break;\r\n    }\r\n}\r\n\r\nexport default handleCart;"],"mappings":"AAAA,MAAMA,IAAI,GAAE,EAAZ;;AACA,MAAMC,UAAU,GAAG,YAAyB;EAAA,IAAxBC,KAAwB,uEAAhBF,IAAgB;EAAA,IAAXG,MAAW;EACxC,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAvB;;EACA,QAAQF,MAAM,CAACG,IAAf;IACI,KAAK,SAAL;MACI;MACA,MAAMC,KAAK,GAAGL,KAAK,CAACM,IAAN,CAAYC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAAQN,OAAO,CAACM,EAAlC,CAAd;;MACA,IAAGH,KAAH,EAAS;QACL,OAAOL,KAAK,CAACS,GAAN,CAAWF,CAAD,IAAOA,CAAC,CAACC,EAAF,KAAQN,OAAO,CAACM,EAAhB,GAAqB,EAAC,GAAGD,CAAJ;UAAQG,GAAG,EAAEH,CAAC,CAACG,GAAF,GAAO;QAApB,CAArB,GAA8CH,CAA/D,CAAP;MACH,CAFD,MAGI;QACA,MAAML,OAAO,GAAGD,MAAM,CAACE,OAAvB;QACA,OAAO,CACH,GAAGH,KADA,EAEH,EACI,GAAGE,OADP;UAEIQ,GAAG,EAAE;QAFT,CAFG,CAAP;MAOH;;MACD;;IACJ,KAAK,SAAL;MACI,MAAMC,MAAM,GAAGX,KAAK,CAACM,IAAN,CAAYC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASN,OAAO,CAACM,EAAnC,CAAf;;MACA,IAAGG,MAAM,CAACD,GAAP,KAAc,CAAjB,EAAmB;QACf,OAAOV,KAAK,CAACY,MAAN,CAAcL,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASG,MAAM,CAACH,EAApC,CAAP;MACH,CAFD,MAGI;QACA,OAAOR,KAAK,CAACS,GAAN,CAAWF,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASN,OAAO,CAACM,EAAjB,GAAsB,EAAC,GAAGD,CAAJ;UAAOG,GAAG,EAAEH,CAAC,CAACG,GAAF,GAAQ;QAApB,CAAtB,GAA8CH,CAA/D,CAAP;MACH;;MACD;;IAEJ;MACI,OAAOP,KAAP;MACA;EA9BR;AAgCH,CAlCD;;AAoCA,eAAeD,UAAf"},"metadata":{},"sourceType":"module"}