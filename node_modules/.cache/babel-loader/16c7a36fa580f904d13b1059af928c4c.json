{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ssundar/projects/udemy/eCart/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ssundar/projects/udemy/eCart/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ssundar/projects/udemy/eCart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{NavLink}from'react-router-dom';import Skeleton from'react-loading-skeleton';import'react-loading-skeleton/dist/skeleton.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Products=function Products(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(data),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var componentMounted=true;useEffect(function(){var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return fetch('https://fakestoreapi.com/products');case 3:response=_context.sent;if(!componentMounted){_context.next=17;break;}_context.t0=setData;_context.next=8;return response.clone().json();case 8:_context.t1=_context.sent;(0,_context.t0)(_context.t1);_context.t2=setFilter;_context.next=13;return response.json();case 13:_context.t3=_context.sent;(0,_context.t2)(_context.t3);setLoading(false);console.log(filter);case 17:return _context.abrupt(\"return\",function(){componentMounted=false;});case 18:case\"end\":return _context.stop();}}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();getProducts();},[]);var Loading=function Loading(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})})]});};var filterProduct=function filterProduct(cat){var updatedList=data.filter(function(x){return x.category===cat;});setFilter(updatedList);};var ShowProducts=function ShowProducts(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buttons d-flex justify-content-center mb-5 pb-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return setFilter(data);},children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return filterProduct(\"men's clothing\");},children:\"Mens's Clothing\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return filterProduct(\"women's clothing\");},children:\"Women's Clothing\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return filterProduct(\"jewelery\");},children:\"Jewelery\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return filterProduct(\"electronics\");},children:\"Electronics\"})]}),filter.map(function(product){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card h-100 text-center p-4\",children:/*#__PURE__*/_jsxs(NavLink,{to:\"/products/\".concat(product.id),children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,className:\"card-img-top\",alt:product.title,height:\"250px\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title mb-0 \",children:[product.title.substring(0,12),\"...\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text lead fw-bold\",children:[\"INR\",product.price]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark\",children:\"Check details\"})]})]})},product.id)})});})]});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container my-5 py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-6 fw-bolder text-center\",children:\"Latest Products\"}),/*#__PURE__*/_jsx(\"hr\",{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(ShowProducts,{})})]})});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","NavLink","Skeleton","Products","data","setData","filter","setFilter","loading","setLoading","componentMounted","getProducts","fetch","response","clone","json","console","log","Loading","filterProduct","cat","updatedList","x","category","ShowProducts","map","product","id","image","title","substring","price"],"sources":["C:/Users/ssundar/projects/udemy/eCart/src/components/Products.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport 'react-loading-skeleton/dist/skeleton.css';\r\n\r\nconst Products = () => {\r\n    const [data, setData] = useState([]);\r\n    const [filter, setFilter] = useState(data);\r\n    const [loading, setLoading] = useState(false);\r\n    let componentMounted = true;\r\n\r\n\r\n    useEffect(() => {\r\n        const getProducts = async () => {\r\n            setLoading(true);\r\n            const response = await fetch('https://fakestoreapi.com/products');\r\n            if (componentMounted) {\r\n                setData(await response.clone().json());\r\n                setFilter(await response.json());\r\n                setLoading(false);\r\n                console.log(filter);\r\n            }\r\n            return () => {\r\n                componentMounted = false;\r\n            }\r\n        }\r\n        getProducts();\r\n    }, []);\r\n\r\n    const Loading = () => {\r\n        return (\r\n            <>\r\n                <div className=\"col-md-3\">\r\n                    <Skeleton  height={350}/>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                    <Skeleton height={350}/>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                    <Skeleton height={350}/>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                    <Skeleton height={350}/>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n    const filterProduct =(cat) =>{\r\n        const updatedList = data.filter((x) => x.category === cat);\r\n        setFilter (updatedList);\r\n    }\r\n    const ShowProducts = () => {\r\n        return (\r\n            <>\r\n                <div className=\"buttons d-flex justify-content-center mb-5 pb-5\">\r\n                    <button className=\"btn btn-outline-dark me-2\" onClick={() => setFilter(data)}>\r\n                        All\r\n            </button>\r\n                    <button className=\"btn btn-outline-dark me-2\" onClick={() => filterProduct(\"men's clothing\")}>\r\n                        Mens's Clothing\r\n            </button>\r\n                    <button className=\"btn btn-outline-dark me-2\" onClick={() => filterProduct(\"women's clothing\")} >\r\n                        Women's Clothing\r\n            </button>\r\n                    <button className=\"btn btn-outline-dark me-2\" onClick={() => filterProduct(\"jewelery\")}>\r\n                        Jewelery\r\n            </button>\r\n                    <button className=\"btn btn-outline-dark me-2\" onClick={() => filterProduct(\"electronics\")}>\r\n                        Electronics\r\n            </button>\r\n                </div>\r\n\r\n                {filter.map((product) => {\r\n                    return (\r\n                        <>\r\n                            <div className=\"col-md-3 mb-4\">\r\n                                <div className=\"card h-100 text-center p-4\" key={product.id}>\r\n                                <NavLink to={`/products/${product.id}`}>\r\n                                    <img src={product.image} className=\"card-img-top\" alt={product.title} height='250px'/>\r\n                                    <div className=\"card-body\">\r\n                                        <h5 className=\"card-title mb-0 \">{product.title.substring(0,12)}...</h5>\r\n                                        <p className=\"card-text lead fw-bold\">INR{product.price}</p>\r\n                                        <button className=\"btn btn-outline-dark\">Check details</button>\r\n                                    </div>\r\n                                </NavLink>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    )\r\n                })}\r\n            </>\r\n        )\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"container my-5 py-5\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 mb-5\">\r\n                        <h1 className='display-6 fw-bolder text-center'>Latest Products</h1>\r\n                        <hr />\r\n                    </div>\r\n                </div>\r\n                <div className=\"row justify-content-center\">\r\n                    {loading ? <Loading /> : <ShowProducts />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Products;"],"mappings":"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"},"metadata":{},"sourceType":"module"}